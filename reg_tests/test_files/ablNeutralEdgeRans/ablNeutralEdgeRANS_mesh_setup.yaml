# -*- mode: yaml -*-
#
# Generate an ABL precursor mesh and initialize necessary field data
#

#
# 1. Generate ABL mesh
#
nalu_abl_mesh:
  output_db: ablNeutralEdgeRans_mesh.exo   # output filename

  spec_type: bounding_box            # Vertex input type

  fluid_part_name: fluid_part

  vertices:
    - [    0.0,    0.0,    0.0 ]     # min corner
    - [ 75.0, 75.0, 500.0 ]     # max corner

  mesh_dimensions: [ 6, 6, 105]  # number of elements in each direction

  xmin_boundary_name: west

  xmax_boundary_name: east

  ymin_boundary_name: south

  ymax_boundary_name: north

  zmin_boundary_name: lower

  zmax_boundary_name: upper

  z_spacing:
    spacing_type: user_specified_spacing
    node_spacing_ratios: [0.0, 1.5510309278350516e-07, 3.365737113402062e-07, 5.488943350515463e-07, 7.973094647938143e-07, 1.0879551665922679e-06, 1.4280106376964585e-06, 1.8258755388883615e-06, 2.291377473282888e-06, 2.836014736524484e-06, 3.4732403345171518e-06, 4.2187942841685724e-06, 5.091092405260734e-06, 6.111681206938564e-06, 7.3057701049016255e-06, 8.702854115518406e-06, 1.033744240794004e-05, 1.224991071007335e-05, 1.4487498623569324e-05, 1.710547648235961e-05, 2.016851057714425e-05, 2.3752260468042275e-05, 2.7945247840392968e-05, 3.285104306604328e-05, 3.859082348005414e-05, 4.530636656444684e-05, 5.3163551973186314e-05, 6.23564589014115e-05, 7.311216000743496e-05, 8.56963303014824e-05, 0.0001004198095455179, 0.00011764628026103945, 0.00013780125099819966, 0.00016138256676067708, 0.00018897270620277568, 0.00022125316935003102, 0.0002590213112323198, 0.00030321003723459767, 0.00035491084665726275, 0.00041540079368178085, 0.00048617403170046704, 0.0005689787201823298, 0.0006658602057061094, 0.0007792115437689314, 0.0009118326093024332, 0.0010669992559766302, 0.0012485442325854408, 0.001460951855217749, 0.00170946877369755, 0.002000233568318917, 0.002340428378025916, 0.0027384563053831053, 0.003204148980391016, 0.0037490094101502724, 0.004386496112968602, 0.005132355555266047, 0.006005011102754058, 0.007026018093315031, 0.008220596272271369, 0.009618252741650284, 0.011253510810823616, 0.013166762751756414, 0.015405267522647786, 0.018024318104590695, 0.021088607285463894, 0.02467382562708554, 0.02886853108678286, 0.03377633647462873, 0.03951846877840839, 0.0462367635738306, 0.054097168484474586, 0.06329384222992805, 0.0740539505121086, 0.08664327720225984, 0.10137278942973678, 0.11860631873588481, 0.138769548024078, 0.16236052629126405, 0.1899619708638717, 0.22, 0.25, 0.28, 0.31, 0.34, 0.37, 0.4, 0.43, 0.46, 0.49, 0.52, 0.55, 0.58, 0.61, 0.64, 0.67, 0.7, 0.73, 0.76, 0.79, 0.82, 0.85, 0.88, 0.91, 0.94, 0.97, 1.0]

#
# 2. Preprocessing
#
nalu_preprocess:
  input_db: ablNeutralEdgeRans_mesh.exo
  output_db: ablNeutralEdgeRans.exo

  tasks:
    - init_abl_fields

  init_abl_fields:
    fluid_parts: [ fluid_part ]

    velocity:
      heights: [0.0, 7.755154639175258e-05, 0.0001682868556701031, 0.0002744471675257732, 0.00039865473239690714, 0.0005439775832961339, 0.0007140053188482293, 0.0009129377694441807, 0.001145688736641444, 0.001418007368262242, 0.0017366201672585758, 0.002109397142084286, 0.002545546202630367, 0.003055840603469282, 0.0036528850524508126, 0.004351427057759203, 0.00516872120397002, 0.006124955355036675, 0.007243749311784662, 0.008552738241179806, 0.010084255288572125, 0.011876130234021138, 0.013972623920196483, 0.01642552153302164, 0.01929541174002707, 0.022653183282223422, 0.026581775986593156, 0.031178229450705745, 0.036556080003717475, 0.0428481651507412, 0.050209904772758954, 0.05882314013051972, 0.06890062549909982, 0.08069128338033854, 0.09448635310138784, 0.11062658467501552, 0.1295106556161599, 0.15160501861729883, 0.17745542332863137, 0.20770039684089042, 0.2430870158502335, 0.28448936009116493, 0.3329301028530547, 0.3896057718844657, 0.4559163046512166, 0.5334996279883151, 0.6242721162927204, 0.7304759276088746, 0.854734386848775, 1.0001167841594585, 1.170214189012958, 1.3692281526915526, 1.6020744901955082, 1.8745047050751362, 2.193248056484301, 2.5661777776330235, 3.002505551377029, 3.5130090466575155, 4.110298136135684, 4.809126370825142, 5.626755405411808, 6.583381375878207, 7.702633761323893, 9.012159052295347, 10.544303642731947, 12.336912813542769, 14.434265543391431, 16.888168237314364, 19.759234389204195, 23.1183817869153, 27.048584242237293, 31.646921114964023, 37.0269752560543, 43.32163860112992, 50.68639471486839, 59.303159367942406, 69.384774012039, 81.18026314563203, 94.98098543193585, 110.0, 125.0, 140.0, 155.0, 170.0, 185.0, 200.0, 215.0, 230.0, 245.0, 260.0, 275.0, 290.0, 305.0, 320.0, 335.0, 350.0, 365.0, 380.0, 395.0, 410.0, 425.0, 440.0, 455.0, 470.0, 485.0, 500.0]
      values:
      - [0.0, 0.0, 0.0]
      - [0.0008733363502106571, 0.0, 0.0]
      - [0.0013625272614543184, 0.0, 0.0]
      - [0.002185879086110908, 0.0, 0.0]
      - [0.0033376798944851527, 0.0, 0.0]
      - [0.004865403771591162, 0.0, 0.0]
      - [0.006266659860724818, 0.0, 0.0]
      - [0.007438766570693521, 0.0, 0.0]
      - [0.010909297387227854, 0.0, 0.0]
      - [0.014719897168393148, 0.0, 0.0]
      - [0.013692037773347406, 0.0, 0.0]
      - [0.019194504911304575, 0.0, 0.0]
      - [0.025628593748882697, 0.0, 0.0]
      - [0.03279599878529219, 0.0, 0.0]
      - [0.03655321502535564, 0.0, 0.0]
      - [0.0343922865176067, 0.0, 0.0]
      - [0.04653087781702693, 0.0, 0.0]
      - [0.052602196599446455, 0.0, 0.0]
      - [0.056463952200672955, 0.0, 0.0]
      - [0.09146231330082086, 0.0, 0.0]
      - [0.09958095636139903, 0.0, 0.0]
      - [0.08989847638970026, 0.0, 0.0]
      - [0.1322023229931787, 0.0, 0.0]
      - [0.14619062829263138, 0.0, 0.0]
      - [0.16989603732371986, 0.0, 0.0]
      - [0.1693011182283172, 0.0, 0.0]
      - [0.22196919008805677, 0.0, 0.0]
      - [0.30995942866576576, 0.0, 0.0]
      - [0.33621455419361423, 0.0, 0.0]
      - [0.3849870920000137, 0.0, 0.0]
      - [0.385837426340032, 0.0, 0.0]
      - [0.40185625179289125, 0.0, 0.0]
      - [0.5305722657689448, 0.0, 0.0]
      - [0.5961946724269372, 0.0, 0.0]
      - [0.6711358185077138, 0.0, 0.0]
      - [0.8451051066068865, 0.0, 0.0]
      - [0.8347386178465332, 0.0, 0.0]
      - [1.0598882257958537, 0.0, 0.0]
      - [0.9052975363456527, 0.0, 0.0]
      - [1.1345915393136852, 0.0, 0.0]
      - [1.260031970459836, 0.0, 0.0]
      - [1.2192708394675211, 0.0, 0.0]
      - [1.3960579175096912, 0.0, 0.0]
      - [1.2934332778023203, 0.0, 0.0]
      - [1.4089405191040243, 0.0, 0.0]
      - [1.4393387557412463, 0.0, 0.0]
      - [2.2810623255861358, 0.0, 0.0]
      - [2.010138230161029, 0.0, 0.0]
      - [2.038136627596465, 0.0, 0.0]
      - [2.3966358401318577, 0.0, 0.0]
      - [2.3437307433581878, 0.0, 0.0]
      - [2.69966517769498, 0.0, 0.0]
      - [3.1145823435497317, 0.0, 0.0]
      - [2.5227811031342116, 0.0, 0.0]
      - [3.3072257932277247, 0.0, 0.0]
      - [2.7139722576942997, 0.0, 0.0]
      - [2.974217876699712, 0.0, 0.0]
      - [3.5207178364404093, 0.0, 0.0]
      - [4.233533625712325, 0.0, 0.0]
      - [4.049627864175293, 0.0, 0.0]
      - [3.998814566839325, 0.0, 0.0]
      - [4.881284121749196, 0.0, 0.0]
      - [4.890292622269329, 0.0, 0.0]
      - [3.8072932564471773, 0.0, 0.0]
      - [4.605508196731547, 0.0, 0.0]
      - [5.550639253723696, 0.0, 0.0]
      - [4.276446720950704, 0.0, 0.0]
      - [5.25843928740405, 0.0, 0.0]
      - [5.214662348369068, 0.0, 0.0]
      - [4.322664560264198, 0.0, 0.0]
      - [4.589847802358988, 0.0, 0.0]
      - [5.832449671192374, 0.0, 0.0]
      - [5.459106843163874, 0.0, 0.0]
      - [5.000013440502495, 0.0, 0.0]
      - [5.294523504837036, 0.0, 0.0]
      - [6.113838418883242, 0.0, 0.0]
      - [5.416291745990067, 0.0, 0.0]
      - [6.9728473467398855, 0.0, 0.0]
      - [7.9809701230251715, 0.0, 0.0]
      - [5.5635665149580085, 0.0, 0.0]
      - [7.4920930103202705, 0.0, 0.0]
      - [6.261845186793485, 0.0, 0.0]
      - [7.135383380008927, 0.0, 0.0]
      - [6.132301684803003, 0.0, 0.0]
      - [6.859879376972599, 0.0, 0.0]
      - [8.221868201183705, 0.0, 0.0]
      - [8.493756472424552, 0.0, 0.0]
      - [8.057230989068653, 0.0, 0.0]
      - [6.1027132776419855, 0.0, 0.0]
      - [7.494567907029093, 0.0, 0.0]
      - [6.481148403608133, 0.0, 0.0]
      - [6.512662483265868, 0.0, 0.0]
      - [7.578163136061723, 0.0, 0.0]
      - [6.2931993405733095, 0.0, 0.0]
      - [8.503818612295921, 0.0, 0.0]
      - [9.071129378160467, 0.0, 0.0]
      - [9.50867044295114, 0.0, 0.0]
      - [7.619977548084272, 0.0, 0.0]
      - [9.15887168720918, 0.0, 0.0]
      - [7.966046821821061, 0.0, 0.0]
      - [9.30274824508771, 0.0, 0.0]
      - [8.258525090406746, 0.0, 0.0]
      - [8.571169972989, 0.0, 0.0]
      - [6.673038919193463, 0.0, 0.0]
      - [6.83076174795553, 0.0, 0.0]
      - [7.837494142019934, 0.0, 0.0]
